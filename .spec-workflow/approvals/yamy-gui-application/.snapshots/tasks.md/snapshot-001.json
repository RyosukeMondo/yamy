{
  "id": "snapshot_1765710966985_lkx0mb40h",
  "approvalId": "approval_1765710966969_gezfjw564",
  "approvalTitle": "Tasks - YAMY GUI Application",
  "version": 1,
  "timestamp": "2025-12-14T11:16:06.985Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Tasks Document\n\n## Phase 1: IPC Protocol Extensions\n\n- [ ] 1.1. Extend IPC message types for GUI commands\n  - File: `src/core/platform/ipc_defs.h`\n  - Add new message types: CmdGetStatus, CmdSetEnabled, CmdSwitchConfig, CmdReloadConfig\n  - Add new response types: RspStatus, RspConfigList\n  - Define message data structures for each command type\n  - Purpose: Establish communication protocol between GUI and daemon\n  - _Leverage: existing `yamy::ipc::Message` protocol in `ipc_defs.h`\n  - _Requirements: 10_\n  - _Prompt: **Role:** IPC Protocol Designer specializing in message-based communication | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Extend the existing IPC message protocol in src/core/platform/ipc_defs.h to add GUI-specific command and response types following requirement 10. Define CmdGetStatus, CmdSetEnabled, CmdSwitchConfig, CmdReloadConfig commands and RspStatus, RspConfigList responses with proper data structures for serialization. | **Restrictions:** Must maintain backward compatibility with existing IPC protocol, do not modify existing message types, follow established naming conventions for message types | **_Leverage:** Examine existing message definitions in src/core/platform/ipc_defs.h for patterns | **_Requirements:** 10 | **Success:** New message types compile without errors, data structures support all required GUI operations, protocol documentation is clear | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (classes, integrations), then mark task as complete [x]\n\n- [ ] 1.2. Implement daemon-side IPC command handlers\n  - Files: `src/core/platform/linux/ipc_control_server.cpp`, `src/core/platform/linux/ipc_control_server.h`\n  - Add handler methods for each new GUI command type\n  - Integrate with Engine for enable/disable, ConfigManager for config operations\n  - Send appropriate responses back to GUI client\n  - Purpose: Enable daemon to respond to GUI control commands\n  - _Leverage: existing IPC server in `ipc_control_server.cpp`, `Engine` class, `ConfigManager` singleton\n  - _Requirements: 2, 3, 4, 5_\n  - _Prompt: **Role:** Backend Developer with expertise in IPC server implementation and Qt networking | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add command handler methods to IPCControlServer in src/core/platform/linux/ipc_control_server.cpp for processing GUI commands (GetStatus, SetEnabled, SwitchConfig, ReloadConfig) following requirements 2, 3, 4, 5. Handlers should call appropriate Engine and ConfigManager methods and send responses via IPC. | **Restrictions:** Do not block IPC server event loop, handle all error cases gracefully, maintain thread safety when accessing Engine state | **_Leverage:** Study existing IPC server structure in ipc_control_server.cpp, Engine API in src/core/engine/engine.h, ConfigManager singleton pattern | **_Requirements:** 2, 3, 4, 5 | **Success:** All GUI commands are handled correctly, daemon responds with proper status/error messages, no crashes or hangs under error conditions | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions, apiEndpoints), then mark task as complete [x]\n\n## Phase 2: IPC Client Wrapper for GUI\n\n- [ ] 2.1. Create IPCClientGUI wrapper class\n  - Files: `src/ui/qt/ipc_client_gui.cpp`, `src/ui/qt/ipc_client_gui.h`\n  - Implement high-level wrapper around IPCChannelQt for GUI-specific commands\n  - Add async command methods (sendGetStatus, sendSetEnabled, etc.)\n  - Emit Qt signals for responses and connection status changes\n  - Purpose: Provide clean API for GUI components to communicate with daemon\n  - _Leverage: `IPCChannelQt` in `src/core/platform/linux/ipc_channel_qt.cpp`\n  - _Requirements: 10_\n  - _Prompt: **Role:** Qt Developer specializing in signals/slots and asynchronous communication | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create IPCClientGUI wrapper class in src/ui/qt/ipc_client_gui.cpp that wraps IPCChannelQt and provides high-level async methods for sending GUI commands following requirement 10. Use Qt signals to notify GUI of responses and connection changes. | **Restrictions:** Must not block GUI thread, handle message serialization/deserialization properly, emit signals on correct thread (use Qt::QueuedConnection if needed) | **_Leverage:** Study IPCChannelQt implementation in src/core/platform/linux/ipc_channel_qt.cpp for connection handling and message passing | **_Requirements:** 10 | **Success:** All command methods work asynchronously, signals are emitted correctly, connection state is properly tracked | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (classes, functions, integrations), then mark task as complete [x]\n\n- [ ] 2.2. Add auto-reconnection logic to IPCClientGUI\n  - File: `src/ui/qt/ipc_client_gui.cpp`\n  - Implement exponential backoff retry logic for connection failures\n  - Add QTimer-based periodic reconnection attempts\n  - Emit connection state changes via signals\n  - Purpose: Ensure GUI automatically reconnects if daemon restarts\n  - _Leverage: QTimer, existing connection logic in IPCClientGUI\n  - _Requirements: 10_\n  - _Prompt: **Role:** Qt Developer with expertise in network reconnection patterns | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add auto-reconnection logic to IPCClientGUI in src/ui/qt/ipc_client_gui.cpp with exponential backoff retry strategy following requirement 10. Use QTimer for periodic reconnection attempts and emit proper signals for connection state changes. | **Restrictions:** Maximum 3 retry attempts with backoff (1s, 2s, 4s), do not spam reconnection attempts indefinitely, properly clean up timers on manual disconnect | **_Leverage:** Qt QTimer for scheduled retries, existing connection handling in IPCClientGUI | **_Requirements:** 10 | **Success:** GUI reconnects automatically when daemon restarts, retry backoff works correctly, no resource leaks from timer objects | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions), then mark task as complete [x]\n\n## Phase 3: Main GUI Window\n\n- [ ] 3.1. Create MainWindowGUI base structure\n  - Files: `src/ui/qt/main_window_gui.cpp`, `src/ui/qt/main_window_gui.h`\n  - Create main window class inheriting from QMainWindow\n  - Design UI layout with status display area, control buttons, menu bar\n  - Initialize IPCClientGUI instance and connect signals\n  - Purpose: Provide main control panel window structure\n  - _Leverage: Qt5::Widgets, existing dialog patterns in `src/ui/qt/`\n  - _Requirements: 1, 2_\n  - _Prompt: **Role:** Qt UI Developer specializing in desktop application design | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create MainWindowGUI class in src/ui/qt/main_window_gui.cpp with base window structure, UI layout, and IPCClientGUI integration following requirements 1, 2. Design clean layout with status display, control buttons (Enable/Disable, Reload), and menu bar for accessing dialogs. | **Restrictions:** Do not create new dialog classes (reuse existing ones), keep main window focused on status/control only, follow Qt widget best practices | **_Leverage:** Study existing Qt dialog implementations in src/ui/qt/ for Qt patterns, use IPCClientGUI for daemon communication | **_Requirements:** 1, 2 | **Success:** Main window displays correctly with all UI elements, connects to daemon via IPC, shows connection status | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (components, integrations), then mark task as complete [x]\n\n- [ ] 3.2. Implement status display and indicators\n  - File: `src/ui/qt/main_window_gui.cpp`\n  - Add status label showing daemon state (Connected/Disconnected, Enabled/Disabled)\n  - Add color-coded indicators (green=active, gray=disabled, red=error)\n  - Update status display when receiving daemon state changes\n  - Purpose: Give users clear visual feedback of daemon status\n  - _Leverage: Qt widgets (QLabel, QPalette), IPCClientGUI signals\n  - _Requirements: 2_\n  - _Prompt: **Role:** UI/UX Developer with expertise in status visualization | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Implement status display and color-coded indicators in MainWindowGUI (src/ui/qt/main_window_gui.cpp) following requirement 2. Connect to IPCClientGUI signals to update status labels and indicator colors when daemon state changes. | **Restrictions:** Use standard Qt color scheme (avoid hardcoded colors), ensure status text is readable and concise, update UI immediately on state changes | **_Leverage:** Qt QLabel for text display, QPalette for color coding, connect to IPCClientGUI::statusReceived signal | **_Requirements:** 2 | **Success:** Status display updates correctly when daemon state changes, color coding is clear and consistent, disconnected state is visually obvious | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions), then mark task as complete [x]\n\n- [ ] 3.3. Implement enable/disable toggle button\n  - File: `src/ui/qt/main_window_gui.cpp`\n  - Add prominent toggle button for enabling/disabling remapping\n  - Connect button click to IPCClientGUI::sendSetEnabled()\n  - Update button state based on daemon response\n  - Handle error scenarios with error dialogs\n  - Purpose: Allow users to quickly enable/disable keyboard remapping\n  - _Leverage: QPushButton, IPCClientGUI, QMessageBox for errors\n  - _Requirements: 3_\n  - _Prompt: **Role:** Qt Developer with expertise in user interaction handling | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add enable/disable toggle button to MainWindowGUI (src/ui/qt/main_window_gui.cpp) following requirement 3. Button should send enable/disable command via IPCClientGUI and update state based on daemon response, showing error dialog on failure. | **Restrictions:** Disable button during command execution to prevent double-clicks, revert button state if command fails, provide clear error messages to user | **_Leverage:** QPushButton for toggle control, IPCClientGUI::sendSetEnabled for command, QMessageBox::critical for error display | **_Requirements:** 3 | **Success:** Toggle button works correctly, visual state matches daemon state, errors are shown to user with clear messages | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions), then mark task as complete [x]\n\n- [ ] 3.4. Implement configuration selector and reload\n  - File: `src/ui/qt/main_window_gui.cpp`\n  - Add QComboBox populated with available configurations from ConfigManager\n  - Highlight currently active configuration\n  - Add reload button to reload current configuration\n  - Connect to IPCClientGUI for config switch and reload commands\n  - Purpose: Enable users to switch configurations and reload changes\n  - _Leverage: QComboBox, QPushButton, IPCClientGUI, ConfigManager\n  - _Requirements: 4, 5_\n  - _Prompt: **Role:** Qt Developer with expertise in dropdown controls and data binding | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add configuration selector (QComboBox) and reload button to MainWindowGUI (src/ui/qt/main_window_gui.cpp) following requirements 4, 5. Query ConfigManager for available configs, highlight active one, send switch/reload commands via IPCClientGUI. | **Restrictions:** Query ConfigManager through IPC (not directly), handle config switch failures gracefully, disable controls during operations | **_Leverage:** QComboBox for selection dropdown, ConfigManager::instance() for config list (via IPC), IPCClientGUI for switch/reload commands | **_Requirements:** 4, 5 | **Success:** Config dropdown shows all available configs, active config is highlighted, switch and reload operations work correctly with proper error handling | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions), then mark task as complete [x]\n\n## Phase 4: Menu Bar and Dialog Integration\n\n- [ ] 4.1. Create menu bar with dialog actions\n  - File: `src/ui/qt/main_window_gui.cpp`\n  - Add QMenuBar with menus: File, Tools, Help\n  - Add menu actions: Settings, Preferences, Log Viewer, Investigate, Notification History, About, Exit\n  - Connect menu actions to slots that show corresponding dialogs\n  - Purpose: Provide access to all YAMY functionality from menu\n  - _Leverage: QMenuBar, QAction, existing dialog classes\n  - _Requirements: 6, 7, 8, 9_\n  - _Prompt: **Role:** Qt UI Developer with expertise in menu systems | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create menu bar in MainWindowGUI (src/ui/qt/main_window_gui.cpp) with File, Tools, Help menus following requirements 6, 7, 8, 9. Add actions for launching existing dialogs (Settings, Log Viewer, Investigate, etc). | **Restrictions:** Do not modify existing dialog classes, use standard Qt menu patterns, add keyboard shortcuts for common actions | **_Leverage:** QMenuBar for menu creation, QAction for menu items, existing dialog constructors | **_Requirements:** 6, 7, 8, 9 | **Success:** All menus display correctly, menu actions launch appropriate dialogs, keyboard shortcuts work | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (components), then mark task as complete [x]\n\n- [ ] 4.2. Implement dialog launching slots\n  - File: `src/ui/qt/main_window_gui.cpp`\n  - Add slots for each menu action (onShowLog, onShowInvestigate, etc.)\n  - Instantiate existing dialog classes as needed (modeless or modal)\n  - Pass Engine pointer to dialogs that need it (investigate window)\n  - Purpose: Connect menu actions to dialog display logic\n  - _Leverage: DialogLogQt, DialogInvestigateQt, DialogSettingsQt, DialogAboutQt, NotificationHistoryDialog, PreferencesDialog\n  - _Requirements: 6, 7, 8, 9_\n  - _Prompt: **Role:** Qt Developer with expertise in dialog management | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add slots to MainWindowGUI (src/ui/qt/main_window_gui.cpp) for launching existing dialogs following requirements 6, 7, 8, 9. Instantiate dialog classes and show them as modal or modeless windows as appropriate. | **Restrictions:** Do not modify dialog classes themselves, use static instances for modeless dialogs to prevent duplicates, properly manage dialog lifetime | **_Leverage:** DialogLogQt, DialogInvestigateQt, DialogSettingsQt, PreferencesDialog, NotificationHistoryDialog, DialogAboutQt constructors | **_Requirements:** 6, 7, 8, 9 | **Success:** All dialogs launch correctly from menu, dialogs function properly when shown from GUI, no crashes or memory leaks | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions, integrations), then mark task as complete [x]\n\n## Phase 5: yamy-gui Executable\n\n- [ ] 5.1. Create main_gui.cpp entry point\n  - File: `src/app/main_gui.cpp`\n  - Create QApplication instance (full Qt with platform plugins - safe without system tray)\n  - Instantiate and show MainWindowGUI\n  - Run Qt event loop\n  - Handle command-line arguments (if any)\n  - Purpose: Provide executable entry point for yamy-gui application\n  - _Leverage: Qt5::Widgets, MainWindowGUI\n  - _Requirements: 1_\n  - _Prompt: **Role:** Application Developer with expertise in Qt application lifecycle | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create main_gui.cpp entry point in src/app/ following requirement 1. Set up QApplication, initialize MainWindowGUI, and run event loop. Add basic command-line argument parsing if needed. | **Restrictions:** Do not include any system tray code, use QApplication (not QCoreApplication) for full widget support, handle cleanup properly on exit | **_Leverage:** Qt QApplication for app initialization, MainWindowGUI for main window | **_Requirements:** 1 | **Success:** yamy-gui executable launches successfully, main window shows correctly, application exits cleanly on window close | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (components), then mark task as complete [x]\n\n- [ ] 5.2. Add CMake build target for yamy-gui\n  - File: `CMakeLists.txt`\n  - Add executable target for yamy-gui linking necessary libraries\n  - Link yamy_qt_gui library (contains existing dialogs)\n  - Add install target to bin directory\n  - Purpose: Build yamy-gui as separate executable\n  - _Leverage: existing yamy_qt_gui library target\n  - _Requirements: 1_\n  - _Prompt: **Role:** Build Engineer with expertise in CMake | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add CMake build target for yamy-gui executable in CMakeLists.txt following requirement 1. Create executable from src/app/main_gui.cpp and link required Qt and yamy_qt_gui libraries. Add install rule. | **Restrictions:** Do not modify existing build targets, ensure yamy-gui links only necessary libraries, verify build succeeds on Linux | **_Leverage:** Existing yamy_qt_gui library target, Qt5::Widgets, Qt5::Network | **_Requirements:** 1 | **Success:** yamy-gui builds successfully, executable installs to bin/, application runs without library errors | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (integrations), then mark task as complete [x]\n\n## Phase 6: Daemon Headless Refactoring\n\n- [ ] 6.1. Refactor main.cpp to headless daemon\n  - File: `src/app/main.cpp`\n  - Replace QApplication with QCoreApplication (minimal Qt, no GUI)\n  - Remove all SystemTrayAppIndicator code and system tray references\n  - Remove QSystemTrayIcon availability check\n  - Keep Engine initialization and IPC server\n  - Purpose: Make yamy daemon run without Qt GUI platform plugins\n  - _Leverage: QCoreApplication, existing Engine and IPC code\n  - _Requirements: 1_\n  - _Prompt: **Role:** System Developer with expertise in daemon processes | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Refactor src/app/main.cpp to run as headless daemon following requirement 1. Replace QApplication with QCoreApplication, remove all system tray code (SystemTrayAppIndicator, QSystemTrayIcon checks), keep Engine and IPC server functional. | **Restrictions:** Do not break existing Engine functionality, ensure IPC server still works, verify daemon runs without loading Qt platform plugins | **_Leverage:** QCoreApplication for minimal Qt event loop, existing Engine initialization code, IPCControlServer | **_Requirements:** 1 | **Success:** yamy daemon runs without GUI dependencies, no Qt/DBus crashes, IPC server accessible for yamy-gui connection | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions, integrations), then mark task as complete [x]\n\n- [ ] 6.2. Update CMakeLists.txt for headless daemon\n  - File: `CMakeLists.txt`\n  - Update yamy target to link QCoreApplication (remove Widgets dependency)\n  - Remove AppIndicator, GTK, libnotify dependencies from yamy target\n  - Verify yamy executable builds as headless\n  - Purpose: Ensure daemon builds without GUI libraries\n  - _Leverage: existing yamy build target\n  - _Requirements: 1_\n  - _Prompt: **Role:** Build Engineer with expertise in dependency management | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Update yamy target in CMakeLists.txt to build as headless daemon following requirement 1. Change from Qt5::Widgets to Qt5::Core, remove AppIndicator/GTK/libnotify dependencies, verify build succeeds. | **Restrictions:** Do not remove dependencies still needed by Engine core, ensure IPC still works (needs Qt5::Network), test build completes successfully | **_Leverage:** Existing yamy CMake target, Qt5::Core for minimal Qt | **_Requirements:** 1 | **Success:** yamy builds without GUI library dependencies, binary size is reduced, daemon runs headless successfully | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts, then mark task as complete [x]\n\n## Phase 7: Desktop Integration\n\n- [ ] 7.1. Create desktop entry file\n  - File: `resources/yamy-gui.desktop`\n  - Create freedesktop.org compliant .desktop file\n  - Add application name, icon, categories, exec command\n  - Purpose: Enable launching yamy-gui from application menu\n  - _Leverage: freedesktop.org desktop entry specification\n  - _Requirements: 1_\n  - _Prompt: **Role:** Linux Desktop Integration Specialist | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create freedesktop.org compliant desktop entry file at resources/yamy-gui.desktop following requirement 1. Include application name, icon, categories (Utility;Settings;), exec command, and other required fields. | **Restrictions:** Follow desktop entry specification exactly, use standard categories, ensure Icon field references installed icon | **_Leverage:** Freedesktop.org desktop entry spec, existing YAMY icon resources | **_Requirements:** 1 | **Success:** Desktop file validates with desktop-file-validate, yamy-gui appears in application launcher, clicking launches GUI correctly | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts, then mark task as complete [x]\n\n- [ ] 7.2. Add desktop file installation to CMake\n  - File: `CMakeLists.txt`\n  - Add install rule for yamy-gui.desktop to share/applications/\n  - Add install rule for application icon to share/icons/\n  - Purpose: Install desktop entry and icon during make install\n  - _Leverage: CMake install() command\n  - _Requirements: 1_\n  - _Prompt: **Role:** Build Engineer with expertise in Linux installation | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Add CMake install rules for yamy-gui.desktop file and application icon following requirement 1. Install desktop file to share/applications/, icon to share/icons/hicolor/. | **Restrictions:** Follow Linux filesystem hierarchy standard, ensure files install to correct locations, test with `make install DESTDIR=/tmp/test` | **_Leverage:** CMake install() function, existing icon installation patterns in CMakeLists.txt | **_Requirements:** 1 | **Success:** Desktop file and icon install correctly, application appears in launcher after installation, icon displays properly | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts, then mark task as complete [x]\n\n## Phase 8: Documentation and Testing\n\n- [ ] 8.1. Update user documentation\n  - Files: `docs/user-manual.md`, `README.md`\n  - Document new yamy-gui application usage\n  - Update architecture section explaining daemon + GUI separation\n  - Add troubleshooting section for connection issues\n  - Purpose: Help users understand and use new yamy-gui application\n  - _Leverage: existing documentation structure\n  - _Requirements: All_\n  - _Prompt: **Role:** Technical Writer with Linux application expertise | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Update user documentation in docs/user-manual.md and README.md covering all requirements. Explain new daemon+GUI architecture, how to launch yamy-gui, troubleshoot connection issues, and use all features. | **Restrictions:** Keep documentation concise and clear, use screenshots if helpful, ensure all features are documented | **_Leverage:** Existing documentation structure and style in docs/ | **_Requirements:** All | **Success:** Documentation is complete and accurate, users can understand architecture and use all features, troubleshooting guide helps resolve common issues | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts, then mark task as complete [x]\n\n- [ ] 8.2. Add integration tests for GUI-daemon communication\n  - File: `tests/integration/test_gui_daemon_communication.cpp`\n  - Write tests for IPC command/response flow\n  - Test connection failure and reconnection scenarios\n  - Test all GUI commands (status, enable, switch config, reload)\n  - Purpose: Ensure GUI-daemon communication works reliably\n  - _Leverage: existing test infrastructure, IPCClientGUI, mock daemon\n  - _Requirements: 10_\n  - _Prompt: **Role:** QA Engineer with expertise in Qt testing and IPC | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Create integration tests in tests/integration/ for GUI-daemon IPC communication following requirement 10. Test all command types, error scenarios, connection/reconnection logic. | **Restrictions:** Use mock daemon or test fixture for reliable tests, ensure tests are deterministic and fast, cover both success and failure paths | **_Leverage:** Qt Test framework, IPCClientGUI class, existing test patterns in tests/ | **_Requirements:** 10 | **Success:** All IPC communication paths are tested, tests pass reliably, error scenarios are covered | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts (functions, integrations), then mark task as complete [x]\n\n- [ ] 8.3. Manual testing and bug fixes\n  - Test all GUI features end-to-end\n  - Test on fresh Ubuntu installation\n  - Verify no Qt/DBus crashes occur\n  - Fix any discovered bugs\n  - Purpose: Ensure yamy-gui works correctly in real-world usage\n  - _Leverage: full yamy-gui and yamy daemon\n  - _Requirements: All_\n  - _Prompt: **Role:** QA Tester with Linux desktop expertise | **Task:** Implement the task for spec yamy-gui-application, first run mcp__spec-workflow__spec-workflow-guide to get the workflow guide then implement the task: Perform comprehensive manual testing of yamy-gui on Ubuntu system covering all requirements. Test all features, edge cases, and error scenarios. Document and fix any bugs found. | **Restrictions:** Test on clean system if possible, verify no Qt/DBus crashes, test daemon restart scenarios | **_Leverage:** Full yamy-gui and yamy daemon, test Ubuntu environment | **_Requirements:** All | **Success:** All features work correctly, no crashes or major bugs, application is ready for release | **Instructions:** Before starting, mark this task as in-progress [-] in tasks.md. After completion, use log-implementation tool with detailed artifacts including bug fixes, then mark task as complete [x]\n",
  "fileStats": {
    "size": 29045,
    "lines": 210,
    "lastModified": "2025-12-14T11:15:55.208Z"
  },
  "comments": []
}