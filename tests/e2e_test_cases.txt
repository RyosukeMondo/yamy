# YAMY E2E Test Cases
# Comprehensive test coverage for all configuration behaviors

# Format: TEST_NAME | CONFIG | INPUT_KEYS | EXPECTED_KEYS | DESCRIPTION

#=============================================================================
# CATEGORY 1: BASELINE (Priority: HIGH) ✅
#=============================================================================

baseline_passthrough | 109.mayu | 30,48,46 | 30,48,46 | abc → abc (passthrough)

#=============================================================================
# CATEGORY 2: SIMPLE SUBSTITUTION (Priority: HIGH)
#=============================================================================
# Testing def subst behavior from config.mayu

subst_a_to_tab | config.mayu | 30 | 15 | A → Tab (KEY_A=30 → KEY_TAB=15)
subst_b_to_enter | config.mayu | 48 | 28 | B → Enter (KEY_B=48 → KEY_ENTER=28)
subst_v_to_backspace | config.mayu | 47 | 14 | V → Backspace (KEY_V=47 → KEY_BS=14)
subst_w_to_a | config.mayu | 17 | 30 | W → A (KEY_W=17 → KEY_A=30)
subst_sequence_wav | config.mayu | 17,30,47 | 30,15,14 | WAV → A+Tab+BS sequence

# More substitutions from config.mayu
subst_r_to_e | config.mayu | 19 | 18 | R → E (KEY_R=19 → KEY_E=18)
subst_q_to_minus | config.mayu | 16 | 12 | Q → Minus (KEY_Q=16 → KEY_MINUS=12)
subst_tab_to_space | config.mayu | 15 | 57 | Tab → Space (KEY_TAB=15 → KEY_SPACE=57)
subst_enter_to_yen | config.mayu | 28 | 124 | Enter → Yen (KEY_ENTER=28 → KEY_YEN=124)

# Test multiple keys in realistic sequence
subst_hello | config.mayu | 35,18,38,38,24 | 66,18,17,17,57 | HELLO → remapped sequence

#=============================================================================
# CATEGORY 3: MODAL LAYERS - mod0 (Hold B) (Priority: HIGH)
#=============================================================================
# Testing: mod mod0 = !!B
# When B (KEY_B=48) is held, it activates mod0 layer

# Note: These require key hold functionality - implementation pending
# Format: HOLD_KEY,PRESS_KEY | EXPECTED_OUTPUT

modal_mod0_tab_to_f11 | config.mayu | HOLD:48+PRESS:15 | 87 | Hold B + Tab → F11
modal_mod0_a_to_1 | config.mayu | HOLD:48+PRESS:30 | 2 | Hold B + A → _1 (number 1)
modal_mod0_colon_to_left | config.mayu | HOLD:48+PRESS:40 | 105 | Hold B + Colon → Left arrow
modal_mod0_comma_to_right | config.mayu | HOLD:48+PRESS:51 | 106 | Hold B + Comma → Right arrow

#=============================================================================
# CATEGORY 4: MODAL LAYERS - mod1 (Hold V) (Priority: HIGH)
#=============================================================================
# Testing: mod mod1 = !!V
# When V (KEY_V=47) is held, it activates mod1 layer

modal_mod1_a_to_s | config.mayu | HOLD:47+PRESS:30 | 31 | Hold V + A → S
modal_mod1_colon_to_l | config.mayu | HOLD:47+PRESS:40 | 38 | Hold V + Colon → L
modal_mod1_tab_to_atmark | config.mayu | HOLD:47+PRESS:15 | 26 | Hold V + Tab → @

#=============================================================================
# CATEGORY 5: SYMBOL REMAPPING (hm.mayu) (Priority: MEDIUM)
#=============================================================================
# Testing symbol transformations from hm.mayu

symbol_colon_to_ampersand | config+hm | 40 | SHIFT:7 | : → & (Shift+7)
symbol_shift_semicolon_to_colon | config+hm | SHIFT:39 | 40 | Shift+; → :
symbol_atmark_to_grave | config+hm | 26 | GRAVE | @ → `
symbol_shift_2_to_at | config+hm | SHIFT:3 | COMMERCIAL_AT | Shift+2 → @

#=============================================================================
# CATEGORY 6: MULTI-CHARACTER OUTPUT (dvorakY.mayu) (Priority: LOW)
#=============================================================================
# Testing multi-key output sequences

dvorak_semicolon_to_ya | dvorakY | 39 | 21,30 | ; → 'ya' (KEY_Y + KEY_A)
dvorak_q_to_yo | dvorakY | 16 | 21,24 | q → 'yo' (KEY_Y + KEY_O)
dvorak_j_to_ye | dvorakY | 36 | 21,18 | j → 'ye' (KEY_Y + KEY_E)

#=============================================================================
# CATEGORY 7: COMBINED CONFIGURATIONS (Priority: MEDIUM)
#=============================================================================

combined_config_hm_a | config+hm | 30 | 15 | A → Tab (with both configs)
combined_config_hm_colon | config+hm | 40 | SHIFT:7 | : → & (combined behavior)
combined_all_a | config+hm+dvorakY | 30 | 15 | A → Tab (all configs)

#=============================================================================
# CATEGORY 8: M00-MFF VIRTUAL MODIFIERS (NEW SYSTEM) (Priority: CRITICAL) ✅
#=============================================================================
# Testing NEW M00-MFF virtual modifier system (256 modifiers with hex notation)
# Uses test_m00_e2e.mayu configuration

# Basic TAP functionality (quick press/release)
m00_tap_b_to_enter | test_m00_e2e.mayu | 48 | 28 | B tap → Enter (M00 tap action)
m01_tap_v_to_backspace | test_m00_e2e.mayu | 47 | 14 | V tap → Backspace (M01 tap action)
m02_tap_n_to_space | test_m00_e2e.mayu | 49 | 57 | N tap → Space (M02 tap action)

# Basic HOLD functionality (hold modifier + press key)
m00_hold_b_a_to_1 | test_m00_e2e.mayu | HOLD:48+PRESS:30 | 2 | Hold B + A → 1 (M00+A)
m00_hold_b_s_to_2 | test_m00_e2e.mayu | HOLD:48+PRESS:31 | 3 | Hold B + S → 2 (M00+S)
m00_hold_b_d_to_3 | test_m00_e2e.mayu | HOLD:48+PRESS:32 | 4 | Hold B + D → 3 (M00+D)
m00_hold_b_f_to_4 | test_m00_e2e.mayu | HOLD:48+PRESS:33 | 5 | Hold B + F → 4 (M00+F)
m00_hold_b_q_to_f1 | test_m00_e2e.mayu | HOLD:48+PRESS:16 | 59 | Hold B + Q → F1 (M00+Q)
m00_hold_b_w_to_f2 | test_m00_e2e.mayu | HOLD:48+PRESS:17 | 60 | Hold B + W → F2 (M00+W)
m00_hold_b_e_to_f3 | test_m00_e2e.mayu | HOLD:48+PRESS:18 | 61 | Hold B + E → F3 (M00+E)
m00_hold_b_r_to_f4 | test_m00_e2e.mayu | HOLD:48+PRESS:19 | 62 | Hold B + R → F4 (M00+R)

# M01 HOLD tests (V key)
m01_hold_v_a_to_left | test_m00_e2e.mayu | HOLD:47+PRESS:30 | 105 | Hold V + A → Left (M01+A)
m01_hold_v_s_to_down | test_m00_e2e.mayu | HOLD:47+PRESS:31 | 108 | Hold V + S → Down (M01+S)
m01_hold_v_d_to_up | test_m00_e2e.mayu | HOLD:47+PRESS:32 | 103 | Hold V + D → Up (M01+D)
m01_hold_v_f_to_right | test_m00_e2e.mayu | HOLD:47+PRESS:33 | 106 | Hold V + F → Right (M01+F)
m01_hold_v_q_to_home | test_m00_e2e.mayu | HOLD:47+PRESS:16 | 102 | Hold V + Q → Home (M01+Q)
m01_hold_v_w_to_end | test_m00_e2e.mayu | HOLD:47+PRESS:17 | 107 | Hold V + W → End (M01+W)
m01_hold_v_e_to_pageup | test_m00_e2e.mayu | HOLD:47+PRESS:18 | 104 | Hold V + E → PageUp (M01+E)
m01_hold_v_r_to_pagedown | test_m00_e2e.mayu | HOLD:47+PRESS:19 | 109 | Hold V + R → PageDown (M01+R)

# M02 HOLD tests (N key)
m02_hold_n_a_to_7 | test_m00_e2e.mayu | HOLD:49+PRESS:30 | 8 | Hold N + A → 7 (M02+A)
m02_hold_n_s_to_8 | test_m00_e2e.mayu | HOLD:49+PRESS:31 | 9 | Hold N + S → 8 (M02+S)
m02_hold_n_d_to_9 | test_m00_e2e.mayu | HOLD:49+PRESS:32 | 10 | Hold N + D → 9 (M02+D)
m02_hold_n_f_to_0 | test_m00_e2e.mayu | HOLD:49+PRESS:33 | 11 | Hold N + F → 0 (M02+F)

# Multiple key presses with same modifier
m00_multi_keys | test_m00_e2e.mayu | HOLD:48+PRESS:30,31,32 | 2,3,4 | Hold B + A,S,D → 1,2,3 (M00 multi)
m01_multi_keys | test_m00_e2e.mayu | HOLD:47+PRESS:30,31,32,33 | 105,108,103,106 | Hold V + A,S,D,F → arrows (M01 multi)

# TAP/HOLD mixed sequences
m00_tap_then_hold | test_m00_e2e.mayu | 48,HOLD:48+PRESS:30 | 28,2 | B tap, then B+A → Enter,1
m01_tap_then_hold | test_m00_e2e.mayu | 47,HOLD:47+PRESS:30 | 14,105 | V tap, then V+A → BS,Left
m00_m01_sequence | test_m00_e2e.mayu | HOLD:48+PRESS:30,HOLD:47+PRESS:30 | 2,105 | B+A then V+A → 1,Left

# Combinations with standard modifiers (Shift, Ctrl)
m00_shift_a_to_f5 | test_m00_e2e.mayu | HOLD:48+SHIFT:30 | 63 | B+Shift+A → F5 (M00+Shift+A)
m00_shift_s_to_f6 | test_m00_e2e.mayu | HOLD:48+SHIFT:31 | 64 | B+Shift+S → F6 (M00+Shift+S)
m01_ctrl_a_to_f7 | test_m00_e2e.mayu | HOLD:47+CTRL:30 | 65 | V+Ctrl+A → F7 (M01+Ctrl+A)
m01_ctrl_s_to_f8 | test_m00_e2e.mayu | HOLD:47+CTRL:31 | 66 | V+Ctrl+S → F8 (M01+Ctrl+S)

# Edge cases for M00-MFF
m00_rapid_tap | test_m00_e2e.mayu | 48,48,48 | 28,28,28 | B,B,B → Enter,Enter,Enter (rapid taps)
m00_hold_release_tap | test_m00_e2e.mayu | HOLD:48+PRESS:30,48 | 2,28 | B+A, release, B tap
m00_m01_concurrent | test_m00_e2e.mayu | HOLD:48+HOLD:47+PRESS:30 | ... | B+V+A (concurrent modifiers - complex)

# Threshold boundary testing (TAP vs HOLD timing)
m00_fast_tap_100ms | test_m00_e2e.mayu | TAP:48:100 | 28 | B tap 100ms → Enter (below threshold)
m00_slow_hold_300ms | test_m00_e2e.mayu | HOLD:48:300+PRESS:30 | 2 | B hold 300ms + A → 1 (above threshold)

#=============================================================================
# CATEGORY 9: EDGE CASES (Priority: LOW)
#=============================================================================

edge_rapid_sequence | config | 30,30,30 | 15,15,15 | AAA → Tab+Tab+Tab (rapid)
edge_alternating | config | 30,48,30,48 | 15,28,15,28 | ABAB → Tab+Enter+Tab+Enter
edge_all_letters | config | 30,48,46,32,18,33 | ... | Full alphabet test

#=============================================================================
# KEY CODE REFERENCE
#=============================================================================
# Common evdev key codes:
# KEY_A=30, KEY_B=48, KEY_C=46, KEY_D=32, KEY_E=18, KEY_F=33
# KEY_Q=16, KEY_R=19, KEY_S=31, KEY_T=20, KEY_V=47, KEY_W=17
# KEY_TAB=15, KEY_ENTER=28, KEY_BACKSPACE=14, KEY_SPACE=57
# KEY_SEMICOLON=39, KEY_COLON=40, KEY_COMMA=51, KEY_MINUS=12
# KEY_LEFT=105, KEY_RIGHT=106, KEY_UP=103, KEY_DOWN=108
# KEY_F11=87, KEY_1=2, KEY_YEN=124

# Note: SHIFT:N means Shift key + key N
# Note: HOLD:X+PRESS:Y means hold X, press Y, release both
