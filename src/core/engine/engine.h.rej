diff a/src/core/engine/engine.h b/src/core/engine/engine.h	(rejected hunks)
@@ -15,6 +15,8 @@
 #  include "../platform/input_driver_interface.h"
 #  include "../utils/config_store.h"
 #  include "../settings/config_manager.h"
+#  include "engine_state.h"
+#  include "../platform/ipc_defs.h"
 #  include <set>
 #  include <queue>
 #  include "../functions/function.h"
@@ -456,6 +474,11 @@ public:
         return m_currentFocusOfThread->m_titleName;
     }
 
+    /// Get the current engine state
+    yamy::EngineState getState() const {
+        return m_state;
+    }
+
     // StrExprSystem overrides
     std::string getClipboardText() const override;
     std::string getStrExprWindowClassName() const override;
